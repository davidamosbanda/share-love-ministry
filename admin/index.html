<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard | S.H.A.R.E LOVE</title>
    <style>
        /* Hide everything until the script can clean it up */
        .nc-entryEditor-previewPane, .Resizer { display: none !important; width: 0 !important; visibility: hidden !important; }
        .nc-entryEditor-controlPane { width: 100% !important; max-width: 100% !important; flex: 1 1 100% !important; }
    </style>
</head>
<body>
    <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
    <script>
        // 1. Tell Decap to stop rendering templates
        const kill = () => null;
        CMS.registerPreviewTemplate("projects", kill);
        CMS.registerPreviewTemplate("pages", kill);
        CMS.registerPreviewTemplate("homepage", kill);
        CMS.registerPreviewTemplate("media", kill);

        // 2. THE DOM MURDER SCRIPT
        // This scans the page every 100ms and deletes the "little shits"
        setInterval(() => {
            // Find the resizer line (the vertical/horizontal bar)
            const resizers = document.querySelectorAll('.Resizer');
            resizers.forEach(el => el.remove());

            // Find the Preview Pane (Pane 2)
            const previewPanes = document.querySelectorAll('[class*="Pane2"]');
            previewPanes.forEach(el => {
                el.style.display = 'none';
                el.style.width = '0px';
            });

            // Find the Control Pane (the form) and force it to be 100%
            const controlPanes = document.querySelectorAll('[class*="Pane1"]');
            controlPanes.forEach(el => {
                el.style.width = '100%';
                el.style.flex = '1 1 100%';
                el.style.maxWidth = '100%';
            });
        }, 100);
    </script>
</body>
</html>
